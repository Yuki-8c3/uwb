# 实验1：PHY档位对功耗（快 vs 稳）

## 实验目的
比较物理层"快/稳"两档对**标签**与**锚点RX**功耗的影响。

## 实验配置

### A组（快）- 基线配置
- **数据速率 (DR)**: 6.8 Mbps
- **脉冲重复频率 (PRF)**: 64 MHz
- **前导长度 (PL)**: 64 symbols
- **SFD**: standard (8 symbols)
- **通道**: 5
- **PAC**: 8

### B组（稳）
- **数据速率 (DR)**: 850 kbps
- **脉冲重复频率 (PRF)**: 16 MHz
- **前导长度 (PL)**: 1024 symbols
- **SFD**: DW non-standard (16 symbols)
- **通道**: 5
- **PAC**: 64

## 实验参数

- **每个模式运行时间**: 150秒
- **模式切换延迟**: 10秒
- **标签上报速率**: 10 Hz
- **记录间隔**: 1秒

## 记录指标

每个测量周期记录以下数据：
- **RSSI**: 接收信号强度指示器
- **RXPACC**: RX前导累积计数器
- **SNR**: 信噪比
- **Loss**: 丢包计数和丢包率
- **Uplink Bytes**: 上行传输字节数
- **Distance**: 计算的距离
- **TX/RX Count**: 发送/接收计数

## 预期结果

- **A组（快）**: 空口占用时间短，标签发射能量/次更低
- **B组（稳）**: 接收更稳定但前导更长，锚点RX更耗能

## 文件结构

```
exp1_phy_power/
├── main.c              # 主程序，负责初始化和PHY模式切换
├── ss_init_main.c      # SS TWR逻辑和数据记录
├── ss_init_main.h      # 头文件定义
├── UART/               # UART驱动
│   ├── UART.c
│   └── UART.h
└── config/             # SDK配置文件
    └── sdk_config.h
```

## 使用方法

1. 编译项目（使用Keil或SES）
2. 烧录到DWM1001设备
3. 通过UART观察输出数据
4. 实验将自动在FAST和STABLE模式之间切换
5. 每个模式运行150秒后自动切换到下一个模式

## 输出格式

实验会输出以下信息：
- 模式切换通知
- 每10次成功接收的详细信息
- 每秒的统计摘要
- 模式切换时的完整统计报告

## 注意事项

- 确保有至少3个锚点参与实验
- 实验开始前确保系统已稳定
- 模式切换期间会有10秒延迟，用于PHY重配置
- 所有统计数据会在模式切换时打印


